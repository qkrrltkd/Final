<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<script th:src="@{/js/lib/jquery-3.6.4.min.js}"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
<head>
  <meta charset="UTF-8">
  <title>리뷰작성</title>
</head>

<style>
#frm fieldset{
    display: inline-block;
    direction: rtl;
    border:0;
}
#frm fieldset legend{
    text-align: right;
}
#frm input[type=radio]{
    display: none;
}
#frm label{
    font-size: 3em;
    color: transparent;
    text-shadow: 0 0 0 #f0f0f0;
}
#frm label:hover{
    text-shadow: 0 0 0 rgba(250, 208, 0, 0.99);
}
#frm label:hover ~ label{
    text-shadow: 0 0 0 rgba(250, 208, 0, 0.99);
}
#frm input[type=radio]:checked ~ label{
    text-shadow: 0 0 0 rgba(250, 208, 0, 0.99);
}

</style>

<body>
  <form class="mb-3" id="frm" method="post" action="/regular/regWriteReview.do">
    <fieldset >
      <span class="text-bold">별점을 선택해주세요</span>
      <input type="radio" name="regReviewRating" value="5" id="rate1"><label
        for="rate1">★</label>
      <input type="radio" name="regReviewRating" value="4" id="rate2"><label
        for="rate2">★</label>
      <input type="radio" name="regReviewRating" value="3" id="rate3"><label
        for="rate3">★</label>
      <input type="radio" name="regReviewRating" value="2" id="rate4"><label
        for="rate4">★</label>
      <input type="radio" name="regReviewRating" value="1" id="rate5"><label
        for="rate5">★</label>
    </fieldset>
    <div class="form-floating">
      <textarea class="form-control" placeholder="Leave a comment here" id="floatingTextarea" name="regReviewDetail"></textarea>
      <span><button type="button" onclick="fnWrite()" class="btn btn-success btn-lg mt-2">리뷰작성</button></span>
    </div>
    <input type="hidden" name="regPurchaseNo" th:value="${regPurchaseNo}">
  </form>   
</body>

<script>
  window.onbeforeunload = function() {
      window.opener.checkReview();
  }
  
  function fnWrite() {
      if(confirm('리뷰 작성을 완료하시겠습니까?')){
          $('#frm').submit();
      }
  }
</script>

</html>